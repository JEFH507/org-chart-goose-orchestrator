<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1268pt" height="359pt"
 viewBox="0.00 0.00 1268.00 358.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 354.5)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-354.5 1264,-354.5 1264,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_core</title>
<path fill="none" stroke="gray" d="M20,-80C20,-80 106,-80 106,-80 112,-80 118,-86 118,-92 118,-92 118,-294.5 118,-294.5 118,-300.5 112,-306.5 106,-306.5 106,-306.5 20,-306.5 20,-306.5 14,-306.5 8,-300.5 8,-294.5 8,-294.5 8,-92 8,-92 8,-86 14,-80 20,-80"/>
<text text-anchor="middle" x="63" y="-289.2" font-family="Times,serif" font-size="14.00">Core</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_ctx</title>
<path fill="none" stroke="gray" d="M138,-8C138,-8 308,-8 308,-8 314,-8 320,-14 320,-20 320,-20 320,-217.25 320,-217.25 320,-223.25 314,-229.25 308,-229.25 308,-229.25 138,-229.25 138,-229.25 132,-229.25 126,-223.25 126,-217.25 126,-217.25 126,-20 126,-20 126,-14 132,-8 138,-8"/>
<text text-anchor="middle" x="223" y="-211.95" font-family="Times,serif" font-size="14.00">Context</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_prov</title>
<path fill="none" stroke="gray" d="M340,-80C340,-80 530,-80 530,-80 536,-80 542,-86 542,-92 542,-92 542,-217.25 542,-217.25 542,-223.25 536,-229.25 530,-229.25 530,-229.25 340,-229.25 340,-229.25 334,-229.25 328,-223.25 328,-217.25 328,-217.25 328,-92 328,-92 328,-86 334,-80 340,-80"/>
<text text-anchor="middle" x="435" y="-211.95" font-family="Times,serif" font-size="14.00">Providers</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_gov</title>
<path fill="none" stroke="gray" d="M562,-80C562,-80 854,-80 854,-80 860,-80 866,-86 866,-92 866,-92 866,-217.25 866,-217.25 866,-223.25 860,-229.25 854,-229.25 854,-229.25 562,-229.25 562,-229.25 556,-229.25 550,-223.25 550,-217.25 550,-217.25 550,-92 550,-92 550,-86 556,-80 562,-80"/>
<text text-anchor="middle" x="708" y="-211.95" font-family="Times,serif" font-size="14.00">Governance</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_ops</title>
<path fill="none" stroke="gray" d="M886,-152C886,-152 1240,-152 1240,-152 1246,-152 1252,-158 1252,-164 1252,-164 1252,-217.25 1252,-217.25 1252,-223.25 1246,-229.25 1240,-229.25 1240,-229.25 886,-229.25 886,-229.25 880,-229.25 874,-223.25 874,-217.25 874,-217.25 874,-164 874,-164 874,-158 880,-152 886,-152"/>
<text text-anchor="middle" x="1063" y="-211.95" font-family="Times,serif" font-size="14.00">Ops</text>
</g>
<!-- AE -->
<g id="node1" class="node">
<title>AE</title>
<ellipse fill="none" stroke="black" stroke-width="2" cx="374" cy="-332.5" rx="98.36" ry="18"/>
<text text-anchor="middle" x="374" y="-329.38" font-family="Times,serif" font-size="10.00">Agent Engine (crates/goose)</text>
</g>
<!-- AG -->
<g id="node2" class="node">
<title>AG</title>
<polygon fill="none" stroke="black" points="109.62,-273.25 34.38,-273.25 34.38,-237.25 109.62,-237.25 109.62,-273.25"/>
<text text-anchor="middle" x="72" y="-252.12" font-family="Times,serif" font-size="10.00">Agent Loop</text>
</g>
<!-- AE&#45;&gt;AG -->
<g id="edge1" class="edge">
<title>AE&#45;&gt;AG</title>
<path fill="none" stroke="black" d="M317.55,-317.43C260.97,-303.34 174.75,-281.85 120.97,-268.45"/>
<polygon fill="black" stroke="black" points="122.03,-265.11 111.48,-266.09 120.34,-271.9 122.03,-265.11"/>
</g>
<!-- UT -->
<g id="node18" class="node">
<title>UT</title>
<polygon fill="none" stroke="black" points="1244,-196 1190,-196 1190,-160 1244,-160 1244,-196"/>
<text text-anchor="middle" x="1217" y="-174.88" font-family="Times,serif" font-size="10.00">Utils</text>
</g>
<!-- AE&#45;&gt;UT -->
<g id="edge17" class="edge">
<title>AE&#45;&gt;UT</title>
<path fill="none" stroke="black" d="M470.56,-328.82C657.96,-322.09 1062.96,-299.62 1181,-229.25 1190.24,-223.74 1197.77,-214.84 1203.5,-206.05"/>
<polygon fill="black" stroke="black" points="1206.38,-208.05 1208.44,-197.66 1200.35,-204.5 1206.38,-208.05"/>
</g>
<!-- EXE -->
<g id="node3" class="node">
<title>EXE</title>
<polygon fill="none" stroke="black" points="100.5,-196 33.5,-196 33.5,-160 100.5,-160 100.5,-196"/>
<text text-anchor="middle" x="67" y="-174.88" font-family="Times,serif" font-size="10.00">Execution</text>
</g>
<!-- AG&#45;&gt;EXE -->
<g id="edge2" class="edge">
<title>AG&#45;&gt;EXE</title>
<path fill="none" stroke="black" d="M70.84,-236.8C70.27,-228.15 69.56,-217.5 68.91,-207.69"/>
<polygon fill="black" stroke="black" points="72.41,-207.61 68.25,-197.87 65.42,-208.08 72.41,-207.61"/>
</g>
<!-- SESS -->
<g id="node5" class="node">
<title>SESS</title>
<polygon fill="none" stroke="black" points="196.5,-196 141.5,-196 141.5,-160 196.5,-160 196.5,-196"/>
<text text-anchor="middle" x="169" y="-174.88" font-family="Times,serif" font-size="10.00">Session</text>
</g>
<!-- AG&#45;&gt;SESS -->
<g id="edge4" class="edge">
<title>AG&#45;&gt;SESS</title>
<path fill="none" stroke="black" d="M109.99,-237.08C114.18,-234.66 118.27,-232.04 122,-229.25 131.38,-222.25 140.46,-213.25 148.1,-204.8"/>
<polygon fill="black" stroke="black" points="150.58,-207.29 154.5,-197.45 145.3,-202.7 150.58,-207.29"/>
</g>
<!-- PRV -->
<g id="node8" class="node">
<title>PRV</title>
<polygon fill="none" stroke="black" points="533.5,-196 412.5,-196 412.5,-160 533.5,-160 533.5,-196"/>
<text text-anchor="middle" x="473" y="-174.88" font-family="Times,serif" font-size="10.00">Providers + Formats</text>
</g>
<!-- AG&#45;&gt;PRV -->
<g id="edge7" class="edge">
<title>AG&#45;&gt;PRV</title>
<path fill="none" stroke="black" d="M109.85,-253.95C184.94,-252.93 350.06,-248.51 403,-229.25 418.57,-223.58 433.77,-213.41 446.01,-203.7"/>
<polygon fill="black" stroke="black" points="448.13,-206.49 453.58,-197.41 443.65,-201.1 448.13,-206.49"/>
</g>
<!-- PROM -->
<g id="node10" class="node">
<title>PROM</title>
<polygon fill="none" stroke="black" points="394.38,-196 335.62,-196 335.62,-160 394.38,-160 394.38,-196"/>
<text text-anchor="middle" x="365" y="-174.88" font-family="Times,serif" font-size="10.00">Prompts</text>
</g>
<!-- AG&#45;&gt;PROM -->
<g id="edge9" class="edge">
<title>AG&#45;&gt;PROM</title>
<path fill="none" stroke="black" d="M109.65,-254.01C170.64,-253.05 287.88,-248.64 324,-229.25 334.31,-223.72 343,-214.4 349.7,-205.28"/>
<polygon fill="black" stroke="black" points="352.41,-207.52 355.08,-197.27 346.6,-203.61 352.41,-207.52"/>
</g>
<!-- PERM -->
<g id="node12" class="node">
<title>PERM</title>
<polygon fill="none" stroke="black" points="858,-196 650,-196 650,-160 858,-160 858,-196"/>
<text text-anchor="middle" x="754" y="-174.88" font-family="Times,serif" font-size="10.00">Permission Modes + Tool Permissions</text>
</g>
<!-- AG&#45;&gt;PERM -->
<g id="edge11" class="edge">
<title>AG&#45;&gt;PERM</title>
<path fill="none" stroke="black" d="M109.93,-254.42C220.28,-254.63 539.7,-253.09 641,-229.25 666.03,-223.36 692.37,-211.98 713.32,-201.54"/>
<polygon fill="black" stroke="black" points="714.79,-204.72 722.1,-197.05 711.6,-198.49 714.79,-204.72"/>
</g>
<!-- ROUT -->
<g id="node14" class="node">
<title>ROUT</title>
<polygon fill="none" stroke="black" points="632.25,-196 557.75,-196 557.75,-160 632.25,-160 632.25,-196"/>
<text text-anchor="middle" x="595" y="-174.88" font-family="Times,serif" font-size="10.00">Tool Router</text>
</g>
<!-- AG&#45;&gt;ROUT -->
<g id="edge13" class="edge">
<title>AG&#45;&gt;ROUT</title>
<path fill="none" stroke="black" d="M110.1,-253.83C215.67,-252.44 506.78,-247.02 546,-229.25 557.78,-223.92 568.21,-214.37 576.39,-205.02"/>
<polygon fill="black" stroke="black" points="578.96,-207.41 582.55,-197.44 573.53,-202.99 578.96,-207.41"/>
</g>
<!-- SCH -->
<g id="node15" class="node">
<title>SCH</title>
<polygon fill="none" stroke="black" points="1171.88,-196 1104.12,-196 1104.12,-160 1171.88,-160 1171.88,-196"/>
<text text-anchor="middle" x="1138" y="-174.88" font-family="Times,serif" font-size="10.00">Scheduler</text>
</g>
<!-- AG&#45;&gt;SCH -->
<g id="edge14" class="edge">
<title>AG&#45;&gt;SCH</title>
<path fill="none" stroke="black" d="M110.02,-253.02C203.89,-250.02 454.17,-242.19 663,-237.25 687,-236.68 1073.29,-239.49 1095,-229.25 1105.79,-224.16 1114.91,-214.92 1121.93,-205.75"/>
<polygon fill="black" stroke="black" points="1124.75,-207.82 1127.6,-197.62 1119.01,-203.81 1124.75,-207.82"/>
</g>
<!-- LOG -->
<g id="node16" class="node">
<title>LOG</title>
<polygon fill="none" stroke="black" points="1086.38,-196 985.62,-196 985.62,-160 1086.38,-160 1086.38,-196"/>
<text text-anchor="middle" x="1036" y="-174.88" font-family="Times,serif" font-size="10.00">Logging/Tracing</text>
</g>
<!-- AG&#45;&gt;LOG -->
<g id="edge15" class="edge">
<title>AG&#45;&gt;LOG</title>
<path fill="none" stroke="black" d="M110.03,-253.11C203.9,-250.32 454.19,-242.91 663,-237.25 680.44,-236.78 960.7,-235.49 977,-229.25 990.74,-223.99 1003.51,-214.05 1013.63,-204.39"/>
<polygon fill="black" stroke="black" points="1015.87,-207.11 1020.41,-197.53 1010.89,-202.19 1015.87,-207.11"/>
</g>
<!-- CFG -->
<g id="node17" class="node">
<title>CFG</title>
<polygon fill="none" stroke="black" points="967.88,-196 882.12,-196 882.12,-160 967.88,-160 967.88,-196"/>
<text text-anchor="middle" x="925" y="-174.88" font-family="Times,serif" font-size="10.00">Config/OAuth</text>
</g>
<!-- AG&#45;&gt;CFG -->
<g id="edge16" class="edge">
<title>AG&#45;&gt;CFG</title>
<path fill="none" stroke="black" d="M109.99,-253.15C268.04,-248.55 865.54,-231.06 870,-229.25 882.98,-223.98 894.81,-214.18 904.16,-204.62"/>
<polygon fill="black" stroke="black" points="906.49,-207.26 910.67,-197.52 901.33,-202.53 906.49,-207.26"/>
</g>
<!-- ERR -->
<g id="node4" class="node">
<title>ERR</title>
<polygon fill="none" stroke="black" points="110,-124 16,-124 16,-88 110,-88 110,-124"/>
<text text-anchor="middle" x="63" y="-102.88" font-family="Times,serif" font-size="10.00">Error Handling</text>
</g>
<!-- EXE&#45;&gt;ERR -->
<g id="edge3" class="edge">
<title>EXE&#45;&gt;ERR</title>
<path fill="none" stroke="black" d="M66.01,-159.7C65.59,-152.41 65.1,-143.73 64.63,-135.54"/>
<polygon fill="black" stroke="black" points="68.13,-135.4 64.06,-125.62 61.14,-135.8 68.13,-135.4"/>
</g>
<!-- CONV -->
<g id="node6" class="node">
<title>CONV</title>
<polygon fill="none" stroke="black" points="240.75,-124 157.25,-124 157.25,-88 240.75,-88 240.75,-124"/>
<text text-anchor="middle" x="199" y="-102.88" font-family="Times,serif" font-size="10.00">Conversation</text>
</g>
<!-- SESS&#45;&gt;CONV -->
<g id="edge5" class="edge">
<title>SESS&#45;&gt;CONV</title>
<path fill="none" stroke="black" d="M176.42,-159.7C179.65,-152.15 183.52,-143.12 187.14,-134.68"/>
<polygon fill="black" stroke="black" points="190.35,-136.07 191.07,-125.5 183.92,-133.31 190.35,-136.07"/>
</g>
<!-- CTX -->
<g id="node7" class="node">
<title>CTX</title>
<polygon fill="none" stroke="black" points="312.38,-52 133.62,-52 133.62,-16 312.38,-16 312.38,-52"/>
<text text-anchor="middle" x="223" y="-30.88" font-family="Times,serif" font-size="10.00">Context Mgmt + Token Counter</text>
</g>
<!-- CONV&#45;&gt;CTX -->
<g id="edge6" class="edge">
<title>CONV&#45;&gt;CTX</title>
<path fill="none" stroke="black" d="M204.93,-87.7C207.49,-80.24 210.55,-71.32 213.41,-62.97"/>
<polygon fill="black" stroke="black" points="216.71,-64.13 216.64,-53.54 210.09,-61.86 216.71,-64.13"/>
</g>
<!-- SHIM -->
<g id="node9" class="node">
<title>SHIM</title>
<polygon fill="none" stroke="black" points="509.62,-124 446.38,-124 446.38,-88 509.62,-88 509.62,-124"/>
<text text-anchor="middle" x="478" y="-102.88" font-family="Times,serif" font-size="10.00">ToolShim</text>
</g>
<!-- PRV&#45;&gt;SHIM -->
<g id="edge8" class="edge">
<title>PRV&#45;&gt;SHIM</title>
<path fill="none" stroke="black" d="M474.24,-159.7C474.76,-152.41 475.38,-143.73 475.96,-135.54"/>
<polygon fill="black" stroke="black" points="479.45,-135.84 476.67,-125.61 472.47,-135.34 479.45,-135.84"/>
</g>
<!-- MODSEL -->
<g id="node11" class="node">
<title>MODSEL</title>
<polygon fill="none" stroke="black" points="428.25,-124 335.75,-124 335.75,-88 428.25,-88 428.25,-124"/>
<text text-anchor="middle" x="382" y="-102.88" font-family="Times,serif" font-size="10.00">Model Selector</text>
</g>
<!-- PROM&#45;&gt;MODSEL -->
<g id="edge10" class="edge">
<title>PROM&#45;&gt;MODSEL</title>
<path fill="none" stroke="black" d="M369.2,-159.7C370.99,-152.32 373.13,-143.52 375.14,-135.25"/>
<polygon fill="black" stroke="black" points="378.53,-136.12 377.49,-125.58 371.73,-134.47 378.53,-136.12"/>
</g>
<!-- SEC -->
<g id="node13" class="node">
<title>SEC</title>
<polygon fill="none" stroke="black" points="783,-124 725,-124 725,-88 783,-88 783,-124"/>
<text text-anchor="middle" x="754" y="-102.88" font-family="Times,serif" font-size="10.00">Security</text>
</g>
<!-- PERM&#45;&gt;SEC -->
<g id="edge12" class="edge">
<title>PERM&#45;&gt;SEC</title>
<path fill="none" stroke="black" d="M754,-159.7C754,-152.41 754,-143.73 754,-135.54"/>
<polygon fill="black" stroke="black" points="757.5,-135.62 754,-125.62 750.5,-135.62 757.5,-135.62"/>
</g>
</g>
</svg>
