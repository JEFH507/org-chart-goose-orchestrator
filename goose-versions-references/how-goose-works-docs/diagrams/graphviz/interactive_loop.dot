digraph SequenceApprox {
  rankdir=LR; node [shape=box; fontsize=10];
  U [label="User"]; UI [label="UI/CLI/ACP"]; GO [label="Goose Server (goosed)"];
  AE [label="Agent Engine"]; LLM [label="LLM Provider"]; EXT [label="Extensions (MCP tools)"];

  U -> UI [label="Request / Task"];
  UI -> GO [label="Message + settings"];
  GO -> AE [label="Start/Update session"];
  AE -> LLM [label="Prompt + tools (router-selected)"];
  LLM -> AE [label="Response (may include tool calls)"];
  AE -> EXT [label="Execute tool(s)"];
  EXT -> AE [label="Tool results"];
  AE -> LLM [label="Return results for follow-up"];
  LLM -> AE [label="Final/Next"];
  AE -> GO [label="Message + logs + context revision"];
  GO -> UI [label="Response to user"];
}
